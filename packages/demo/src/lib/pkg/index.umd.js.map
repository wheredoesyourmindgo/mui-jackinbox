{"version":3,"file":"index.umd.js","sources":["../src/mui-jackinbox/JackinBox.tsx"],"sourcesContent":["import React, {useCallback, useState} from 'react'\nimport clsx from 'clsx'\nimport {Name} from './Name'\nimport {Box, BoxProps, createStyles, makeStyles} from '@material-ui/core'\n\n/*\nDocs:\n  https://animate.style\n*/\n\n// const VERSION = '4.1.1'\nconst PREFIX = 'animate__'\n\nexport type Props = {\n  children?: React.ReactNode\n  animate?: boolean\n  name: Name\n  hideUntilAnimate?: boolean\n  noDisplayUntilAnimate?: boolean\n  hideAfterAnimate?: boolean\n  noDisplayAfterAnimate?: boolean\n  speed?: 'slower' | 'slow' | 'fast' | 'faster' // 3s (or 3x), 2s (or 2x), 800ms (or .8x), 500ms (or .5x)\n  delay?: boolean | 1 | 2 | 3 | 4 | 5\n  repeat?: boolean | 1 | 2 | 3\n  infinite?: boolean\n  version?: string\n  prefix?: string\n  delayBy?: string // defaults to 1s\n  speedBy?: string // defaults to 1s\n  repeatBy?: number // defaults to 1\n  onAnimateEnd?: (e?: React.AnimationEvent<HTMLElement>) => void\n} & Partial<BoxProps>\n\ninterface UseStylesProps {\n  hidden: boolean\n  noDisplay: boolean\n  delayBy: string\n  speedBy: string\n  repeatBy: number\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: ({\n      hidden,\n      noDisplay,\n      delayBy,\n      speedBy,\n      repeatBy\n    }: UseStylesProps) => ({\n      '--animate-delay': delayBy,\n      '--animate-duration': speedBy,\n      '--animate-repeat': repeatBy,\n      // Conditional CSS Properties\n      ...(hidden && {\n        visibility: 'hidden'\n      }),\n      ...(noDisplay && {\n        display: 'none'\n      })\n    })\n  })\n)\n\nexport default function JackinBox({\n  children,\n  className: classNameProp,\n  animate = true,\n  name,\n  // version = VERSION,\n  prefix = PREFIX,\n  hideUntilAnimate = false,\n  noDisplayUntilAnimate = false,\n  hideAfterAnimate = false,\n  noDisplayAfterAnimate = false,\n  delayBy = '1s',\n  speedBy = '1s',\n  repeatBy = 1,\n  speed,\n  infinite,\n  delay: delayProp = false,\n  repeat: repeatProp = false,\n  onAnimateEnd,\n  ...rest\n}: Props) {\n  const delay = delayProp === true ? 1 : delayProp\n  const repeat = repeatProp === true ? 1 : repeatProp\n  // Use animate value to determine when the element should be visible\n  const [hidden, setHidden] = useState(hideUntilAnimate ? !animate : false)\n  const [noDisplay, setNoDisplay] = useState(\n    noDisplayUntilAnimate ? !animate : false\n  )\n\n  const classes = useStyles({\n    hidden,\n    noDisplay,\n    delayBy,\n    speedBy,\n    repeatBy\n  })\n\n  const animateEndHandler = useCallback(\n    (e?: React.AnimationEvent<HTMLElement>) => {\n      hideAfterAnimate && setHidden(true)\n      noDisplayAfterAnimate && setNoDisplay(true)\n      onAnimateEnd?.(e)\n      // Don't trigger animation end events w/ nested <JackinBox/> children\n      e?.stopPropagation()\n    },\n    [onAnimateEnd, hideAfterAnimate, noDisplayAfterAnimate]\n  )\n\n  return (\n    <Box\n      className={clsx([\n        {\n          [`${prefix}animated`]: animate,\n          [`${prefix}${name}`]: animate && name,\n          [`${prefix}${speed}`]: animate && speed,\n          [`${prefix}infinite`]: animate && infinite,\n          [`${prefix}repeat-${repeat}`]: animate && repeat,\n          [`${prefix}delay-${delay}s`]: animate && delay\n        },\n        classes.root,\n        classNameProp\n      ])}\n      onAnimationEnd={animateEndHandler}\n      {...rest}\n    >\n      {children}\n    </Box>\n  )\n}\n"],"names":["useStyles","makeStyles","createStyles","root","delayBy","speedBy","repeatBy","hidden","visibility","noDisplay","display","children","classNameProp","className","animate","name","prefix","hideUntilAnimate","noDisplayUntilAnimate","hideAfterAnimate","noDisplayAfterAnimate","speed","infinite","delay","delayProp","repeat","repeatProp","onAnimateEnd","rest","useState","setHidden","setNoDisplay","classes","animateEndHandler","useCallback","e","stopPropagation","React","Box","clsx","onAnimationEnd"],"mappings":"q2BAyCMA,EAAYC,aAAW,kBAC3BC,eAAa,CACXC,KAAM,sBAOJ,oBAJAC,QAKA,uBAJAC,QAKA,qBAJAC,YAJAC,QAUc,CACZC,WAAY,YAVdC,WAYiB,CACfC,QAAS,uCAOfC,IAAAA,SACWC,IAAXC,cACAC,QAAAA,gBACAC,IAAAA,SAEAC,OAAAA,aA3Da,kBA4DbC,iBAAAA,oBACAC,sBAAAA,oBACAC,iBAAAA,oBACAC,sBAAAA,oBACAhB,QAAAA,aAAU,WACVC,QAAAA,aAAU,WACVC,SAAAA,aAAW,IACXe,IAAAA,MACAC,IAAAA,aACAC,MAAOC,oBACPC,OAAQC,gBACRC,IAAAA,aACGC,0IAEGL,GAAsB,IAAdC,EAAqB,EAAIA,EACjCC,GAAwB,IAAfC,EAAsB,EAAIA,IAEbG,aAASZ,IAAoBH,GAAlDP,OAAQuB,SACmBD,aAChCX,IAAyBJ,GADTiB,OAIZC,EAAUhC,EAAU,CACxBO,OAAAA,EACAE,eACAL,QAAAA,EACAC,QAAAA,EACAC,SAAAA,IAGI2B,EAAoBC,cACxB,SAACC,GACChB,GAAoBW,GAAU,GAC9BV,GAAyBW,GAAa,SACtCJ,GAAAA,EAAeQ,SAEfA,GAAAA,EAAGC,mBAEL,CAACT,EAAcR,EAAkBC,IAGnC,OACEiB,wBAACC,SACCzB,UAAW0B,UAAK,SAERvB,cAAmBF,OACnBE,EAASD,GAASD,GAAWC,OAC7BC,EAASK,GAAUP,GAAWO,IAC9BL,cAAmBF,GAAWQ,IAC9BN,YAAgBS,GAAWX,GAAWW,IACtCT,WAAeO,OAAWT,GAAWS,KAE3CS,EAAQ7B,KACRS,IAEF4B,eAAgBP,GACZL,GAEHjB"}